"use strict";function ready(t,e){t?console.log(t):console.log(e);var a=e;xScale.domain(d3.extent(a,function(t){return t.date})),yScale.domain(d3.extent(a,function(t){return t.mwh})).nice();var n=d3.axisBottom().scale(xScale).tickFormat(formatMonth).ticks(20),i=d3.axisLeft().scale(yScale),r=d3.line().curve(d3.curveLinear).x(function(t){return xScale(t.date)}).y(function(t){return yScale(t.mwh)}),l=d3.select("#line-div").append("svg").attr("width",lineW+lineMargin.left+lineMargin.right).attr("height",lineH+lineMargin.top+lineMargin.bottom).attr("id","line-canvas").append("g").attr("transform","translate("+lineMargin.left+","+lineMargin.top+")");l.append("path").datum(a).attr("d",r).attr("fill","white").attr("stroke","white");l.append("g").attr("class","axis x-axis").attr("transform","translate(0,"+lineH+")").call(n),d3.selectAll(".x-axis text").attr("transform","translate(-20,20) rotate(-45)"),l.append("g").attr("class","axis y-axis").call(i)}var margin={top:20,right:20,bottom:20,left:20},w=(w=parseInt(d3.select("#wrapper").style("width"),10))-margin.left-margin.right,h=(h=parseInt(d3.select("#wrapper").style("height")))-margin.top-margin.bottom,lineMargin={top:20,right:20,bottom:60,left:100},lineW=(lineW=parseInt(d3.select("#line-div").style("width"),10))-lineMargin.left-lineMargin.right,lineH=(lineH=parseInt(d3.select("#line-div").style("height"),10))-lineMargin.top-lineMargin.bottom,parseDate=d3.timeParse("%m-%Y"),formatMonth=d3.timeFormat("%b-%y"),xScale=d3.scaleTime().range([0,lineW]),yScale=d3.scaleLinear().range([lineH,0]),dotRadius="0.25em";d3.queue().defer(d3.csv,"/8step.io/production_data/energy_data/energy_xstate.csv",function(t){return t.date=parseDate(t.date),t.mwh=+t.mwh,t.id=t.id,t}).await(ready);